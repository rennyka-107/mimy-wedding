"use client";
import BaseButton from "../buttons/base";
import ArrowBendUpRight from "../icons/arrow_bend_up_right";
import { motion, useScroll, useTransform } from "framer-motion";
import { useRef } from "react";
import { useAuth } from "@/context/AuthContext";
import Button from "../ui/Button";
import LoginModal from "../popup/LoginModal";
import { useState } from "react";
import { useRouter } from "next/navigation";

export default function Banner() {
    const router = useRouter();
    const { user } = useAuth();
    const [openLogin, setOpenLogin] = useState(false);
    const bannerRef = useRef<HTMLDivElement>(null);
    const { scrollYProgress } = useScroll({
        target: bannerRef,
        offset: ["start start", "end start"]
    });

    // Parallax effect transformations
    const y1 = useTransform(scrollYProgress, [0, 1], [0, -100]); // Slower movement
    const y2 = useTransform(scrollYProgress, [0, 1], [0, -150]); // Medium movement
    const y3 = useTransform(scrollYProgress, [0, 1], [0, -200]); // Faster movement

    return (
        <div
            ref={bannerRef}
            className="w-full flex flex-col items-center lg:items-end justify-center relative">
            {/* <svg className="hidden md:block sm:h-[700px] sm:w-[2000px] md:w-full md:h-full  top-0" width="100%" height="700" viewBox="0 0 2000 700" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2000 650C2000 677.614 1977.61 700 1950 700C1922.39 700 1900 677.614 1900 650C1900 677.614 1877.61 700 1850 700C1822.39 700 1800 677.614 1800 650C1800 677.614 1777.61 700 1750 700C1722.39 700 1700 677.614 1700 650C1700 677.614 1677.61 700 1650 700C1622.39 700 1600 677.614 1600 650C1600 677.614 1577.61 700 1550 700C1522.39 700 1500 677.614 1500 650C1500 677.614 1477.61 700 1450 700C1422.39 700 1400 677.614 1400 650C1400 677.614 1377.61 700 1350 700C1322.39 700 1300 677.614 1300 650C1300 677.614 1277.61 700 1250 700C1222.39 700 1200 677.614 1200 650C1200 677.614 1177.61 700 1150 700C1122.39 700 1100 677.614 1100 650C1100 677.614 1077.61 700 1050 700C1022.39 700 1000 677.614 1000 650C1000 677.614 977.614 700 950 700C922.386 700 900 677.614 900 650C900 677.614 877.614 700 850 700C822.386 700 800 677.614 800 650C800 677.614 777.614 700 750 700C722.386 700 700 677.614 700 650C700 677.614 677.614 700 650 700C622.386 700 600 677.614 600 650C600 677.614 577.614 700 550 700C522.386 700 500 677.614 500 650C500 677.614 477.614 700 450 700C422.386 700 400 677.614 400 650C400 677.614 377.614 700 350 700C322.386 700 300 677.614 300 650C300 677.614 277.614 700 250 700C222.386 700 200 677.614 200 650C200 677.614 177.614 700 150 700C122.386 700 100 677.614 100 650C100 677.614 77.6142 700 50 700C22.3858 700 0 677.614 0 650V0H2000V650Z" fill="#F9F9F9" />
            </svg>
            <svg className="md:hidden block sm:h-full :w-full top-0" width="100%" height="850" viewBox="0 0 700 700" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M700 650C700 677.614 677.614 700 650 700C622.386 700 600 677.614 600 650C600 677.614 577.614 700 550 700C522.386 700 500 677.614 500 650C500 677.614 477.614 700 450 700C422.386 700 400 677.614 400 650C400 677.614 377.614 700 350 700C322.386 700 300 677.614 300 650C300 677.614 277.614 700 250 700C222.386 700 200 677.614 200 650C200 677.614 177.614 700 150 700C122.386 700 100 677.614 100 650C100 677.614 77.6142 700 50 700C22.3858 700 0 677.614 0 650V0H700V650Z" fill="#F9F9F9" />
            </svg> */}
            {/* <svg className="sm:hidden block h-full w-full top-0 mb-15" width="640" height="700" viewBox="0 0 640 936" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M670 886C670 913.614 647.614 936 620 936C592.386 936 570 913.614 570 886C570 913.614 547.614 936 520 936C492.386 936 470 913.614 470 886C470 913.614 447.614 936 420 936C392.386 936 370 913.614 370 886C370 913.614 347.614 936 320 936C292.386 936 270 913.614 270 886C270 913.614 247.614 936 220 936C192.386 936 170 913.614 170 886C170 913.614 147.614 936 120 936C92.3858 936 70 913.614 70 886C70 913.614 47.6142 936 20 936C-7.61424 936 -30 913.614 -30 886V0H670V886Z" fill="#F9F9F9" />
            </svg> */}
            <div className="w-full overflow-x-hidden">
                <svg className="xs:hidden block top-0 mb-15" width="1497" height="728" viewBox="0 0 1497 728" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1497 678C1497 705.614 1474.61 728 1447 728C1421.79 728 1400.94 709.347 1397.5 685.092C1394.06 709.347 1373.21 728 1348 728C1320.39 728 1298 705.614 1298 678C1298 705.614 1275.61 728 1248 728C1220.39 728 1198 705.614 1198 678C1198 705.614 1175.61 728 1148 728C1122.79 728 1101.94 709.347 1098.5 685.092C1095.06 709.347 1074.21 728 1049 728C1021.39 728 999 705.614 999 678C999 705.614 976.614 728 949 728C921.386 728 899 705.614 899 678C899 705.614 876.614 728 849 728C823.793 728 802.944 709.347 799.5 685.092C796.056 709.347 775.207 728 750 728C722.386 728 700 705.614 700 678C700 705.614 677.614 728 650 728C622.386 728 600 705.614 600 678C600 705.614 577.614 728 550 728C522.386 728 500 705.614 500 678C500 705.614 477.614 728 450 728C422.386 728 400 705.614 400 678C400 705.614 377.614 728 350 728C322.386 728 300 705.614 300 678C300 705.614 277.614 728 250 728C222.386 728 200 705.614 200 678C200 705.614 177.614 728 150 728C122.386 728 100 705.614 100 678C100 705.614 77.6142 728 50 728C22.3858 728 0 705.614 0 678V0H1497V678Z" fill="#F9F9F9" />
                </svg>
                <svg className="hidden xs:block sm:hidden top-0 mb-15" width="1000" height="750" viewBox="0 0 1697 999" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1697 949C1697 976.614 1674.61 999 1647 999C1619.39 999 1597 976.614 1597 949C1597 976.614 1574.61 999 1547 999C1519.39 999 1497 976.614 1497 949C1497 976.614 1474.61 999 1447 999C1421.79 999 1400.94 980.347 1397.5 956.092C1394.06 980.347 1373.21 999 1348 999C1320.39 999 1298 976.614 1298 949C1298 976.614 1275.61 999 1248 999C1220.39 999 1198 976.614 1198 949C1198 976.614 1175.61 999 1148 999C1122.79 999 1101.94 980.347 1098.5 956.092C1095.06 980.347 1074.21 999 1049 999C1021.39 999 999 976.614 999 949C999 976.614 976.614 999 949 999C921.386 999 899 976.614 899 949C899 976.614 876.614 999 849 999C823.793 999 802.944 980.347 799.5 956.092C796.056 980.347 775.207 999 750 999C722.386 999 700 976.614 700 949C700 976.614 677.614 999 650 999C622.386 999 600 976.614 600 949C600 976.614 577.614 999 550 999C522.386 999 500 976.614 500 949C500 976.614 477.614 999 450 999C422.386 999 400 976.614 400 949C400 976.614 377.614 999 350 999C322.386 999 300 976.614 300 949C300 976.614 277.614 999 250 999C222.386 999 200 976.614 200 949C200 976.614 177.614 999 150 999C122.386 999 100 976.614 100 949C100 976.614 77.6142 999 50 999C22.3858 999 0 976.614 0 949V0H1697V949Z" fill="#F9F9F9" />
                </svg>
                <svg className="hidden sm:block md:hidden top-0 mb-15" width="1000" height="700" viewBox="0 0 1697 999" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1697 949C1697 976.614 1674.61 999 1647 999C1619.39 999 1597 976.614 1597 949C1597 976.614 1574.61 999 1547 999C1519.39 999 1497 976.614 1497 949C1497 976.614 1474.61 999 1447 999C1421.79 999 1400.94 980.347 1397.5 956.092C1394.06 980.347 1373.21 999 1348 999C1320.39 999 1298 976.614 1298 949C1298 976.614 1275.61 999 1248 999C1220.39 999 1198 976.614 1198 949C1198 976.614 1175.61 999 1148 999C1122.79 999 1101.94 980.347 1098.5 956.092C1095.06 980.347 1074.21 999 1049 999C1021.39 999 999 976.614 999 949C999 976.614 976.614 999 949 999C921.386 999 899 976.614 899 949C899 976.614 876.614 999 849 999C823.793 999 802.944 980.347 799.5 956.092C796.056 980.347 775.207 999 750 999C722.386 999 700 976.614 700 949C700 976.614 677.614 999 650 999C622.386 999 600 976.614 600 949C600 976.614 577.614 999 550 999C522.386 999 500 976.614 500 949C500 976.614 477.614 999 450 999C422.386 999 400 976.614 400 949C400 976.614 377.614 999 350 999C322.386 999 300 976.614 300 949C300 976.614 277.614 999 250 999C222.386 999 200 976.614 200 949C200 976.614 177.614 999 150 999C122.386 999 100 976.614 100 949C100 976.614 77.6142 999 50 999C22.3858 999 0 976.614 0 949V0H1697V949Z" fill="#F9F9F9" />
                </svg>
                <svg className="hidden md:block lg:hidden top-0 mb-15 overflow-hidden" width="1024" height="750" viewBox="0 0 1497 728" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1497 678C1497 705.614 1474.61 728 1447 728C1421.79 728 1400.94 709.347 1397.5 685.092C1394.06 709.347 1373.21 728 1348 728C1320.39 728 1298 705.614 1298 678C1298 705.614 1275.61 728 1248 728C1220.39 728 1198 705.614 1198 678C1198 705.614 1175.61 728 1148 728C1122.79 728 1101.94 709.347 1098.5 685.092C1095.06 709.347 1074.21 728 1049 728C1021.39 728 999 705.614 999 678C999 705.614 976.614 728 949 728C921.386 728 899 705.614 899 678C899 705.614 876.614 728 849 728C823.793 728 802.944 709.347 799.5 685.092C796.056 709.347 775.207 728 750 728C722.386 728 700 705.614 700 678C700 705.614 677.614 728 650 728C622.386 728 600 705.614 600 678C600 705.614 577.614 728 550 728C522.386 728 500 705.614 500 678C500 705.614 477.614 728 450 728C422.386 728 400 705.614 400 678C400 705.614 377.614 728 350 728C322.386 728 300 705.614 300 678C300 705.614 277.614 728 250 728C222.386 728 200 705.614 200 678C200 705.614 177.614 728 150 728C122.386 728 100 705.614 100 678C100 705.614 77.6142 728 50 728C22.3858 728 0 705.614 0 678V0H1497V678Z" fill="#F9F9F9" />
                </svg>

                <svg className="hidden lg:block xl:hidden top-0 mb-15" width="2095" height="728" viewBox="0 0 2095 728" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2095 678C2095 705.614 2072.61 728 2045 728C2017.39 728 1995 705.614 1995 678C1995 705.614 1972.61 728 1945 728C1917.39 728 1895 705.614 1895 678C1895 705.614 1872.61 728 1845 728C1819.79 728 1798.94 709.347 1795.5 685.092C1792.06 709.347 1771.21 728 1746 728C1720.79 728 1699.94 709.347 1696.5 685.092C1693.06 709.347 1672.21 728 1647 728C1619.39 728 1597 705.614 1597 678C1597 705.614 1574.61 728 1547 728C1519.39 728 1497 705.614 1497 678C1497 705.614 1474.61 728 1447 728C1421.79 728 1400.94 709.347 1397.5 685.092C1394.06 709.347 1373.21 728 1348 728C1320.39 728 1298 705.614 1298 678C1298 705.614 1275.61 728 1248 728C1220.39 728 1198 705.614 1198 678C1198 705.614 1175.61 728 1148 728C1122.79 728 1101.94 709.347 1098.5 685.092C1095.06 709.347 1074.21 728 1049 728C1021.39 728 999 705.614 999 678C999 705.614 976.614 728 949 728C921.386 728 899 705.614 899 678C899 705.614 876.614 728 849 728C823.793 728 802.944 709.347 799.5 685.092C796.056 709.347 775.207 728 750 728C722.386 728 700 705.614 700 678C700 705.614 677.614 728 650 728C622.386 728 600 705.614 600 678C600 705.614 577.614 728 550 728C522.386 728 500 705.614 500 678C500 705.614 477.614 728 450 728C422.386 728 400 705.614 400 678C400 705.614 377.614 728 350 728C322.386 728 300 705.614 300 678C300 705.614 277.614 728 250 728C222.386 728 200 705.614 200 678C200 705.614 177.614 728 150 728C122.386 728 100 705.614 100 678C100 705.614 77.6142 728 50 728C22.3858 728 0 705.614 0 678V0H2095V678Z" fill="#F9F9F9" />
                </svg>
                <svg className="hidden xl:block 2xl:hidden top-0 mb-15" width="2095" height="728" viewBox="0 0 2095 728" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2095 678C2095 705.614 2072.61 728 2045 728C2017.39 728 1995 705.614 1995 678C1995 705.614 1972.61 728 1945 728C1917.39 728 1895 705.614 1895 678C1895 705.614 1872.61 728 1845 728C1819.79 728 1798.94 709.347 1795.5 685.092C1792.06 709.347 1771.21 728 1746 728C1720.79 728 1699.94 709.347 1696.5 685.092C1693.06 709.347 1672.21 728 1647 728C1619.39 728 1597 705.614 1597 678C1597 705.614 1574.61 728 1547 728C1519.39 728 1497 705.614 1497 678C1497 705.614 1474.61 728 1447 728C1421.79 728 1400.94 709.347 1397.5 685.092C1394.06 709.347 1373.21 728 1348 728C1320.39 728 1298 705.614 1298 678C1298 705.614 1275.61 728 1248 728C1220.39 728 1198 705.614 1198 678C1198 705.614 1175.61 728 1148 728C1122.79 728 1101.94 709.347 1098.5 685.092C1095.06 709.347 1074.21 728 1049 728C1021.39 728 999 705.614 999 678C999 705.614 976.614 728 949 728C921.386 728 899 705.614 899 678C899 705.614 876.614 728 849 728C823.793 728 802.944 709.347 799.5 685.092C796.056 709.347 775.207 728 750 728C722.386 728 700 705.614 700 678C700 705.614 677.614 728 650 728C622.386 728 600 705.614 600 678C600 705.614 577.614 728 550 728C522.386 728 500 705.614 500 678C500 705.614 477.614 728 450 728C422.386 728 400 705.614 400 678C400 705.614 377.614 728 350 728C322.386 728 300 705.614 300 678C300 705.614 277.614 728 250 728C222.386 728 200 705.614 200 678C200 705.614 177.614 728 150 728C122.386 728 100 705.614 100 678C100 705.614 77.6142 728 50 728C22.3858 728 0 705.614 0 678V0H2095V678Z" fill="#F9F9F9" />
                </svg>
                <svg className="hidden 2xl:block top-0 mb-15" width="2095" height="728" viewBox="0 0 2095 728" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2095 678C2095 705.614 2072.61 728 2045 728C2017.39 728 1995 705.614 1995 678C1995 705.614 1972.61 728 1945 728C1917.39 728 1895 705.614 1895 678C1895 705.614 1872.61 728 1845 728C1819.79 728 1798.94 709.347 1795.5 685.092C1792.06 709.347 1771.21 728 1746 728C1720.79 728 1699.94 709.347 1696.5 685.092C1693.06 709.347 1672.21 728 1647 728C1619.39 728 1597 705.614 1597 678C1597 705.614 1574.61 728 1547 728C1519.39 728 1497 705.614 1497 678C1497 705.614 1474.61 728 1447 728C1421.79 728 1400.94 709.347 1397.5 685.092C1394.06 709.347 1373.21 728 1348 728C1320.39 728 1298 705.614 1298 678C1298 705.614 1275.61 728 1248 728C1220.39 728 1198 705.614 1198 678C1198 705.614 1175.61 728 1148 728C1122.79 728 1101.94 709.347 1098.5 685.092C1095.06 709.347 1074.21 728 1049 728C1021.39 728 999 705.614 999 678C999 705.614 976.614 728 949 728C921.386 728 899 705.614 899 678C899 705.614 876.614 728 849 728C823.793 728 802.944 709.347 799.5 685.092C796.056 709.347 775.207 728 750 728C722.386 728 700 705.614 700 678C700 705.614 677.614 728 650 728C622.386 728 600 705.614 600 678C600 705.614 577.614 728 550 728C522.386 728 500 705.614 500 678C500 705.614 477.614 728 450 728C422.386 728 400 705.614 400 678C400 705.614 377.614 728 350 728C322.386 728 300 705.614 300 678C300 705.614 277.614 728 250 728C222.386 728 200 705.614 200 678C200 705.614 177.614 728 150 728C122.386 728 100 705.614 100 678C100 705.614 77.6142 728 50 728C22.3858 728 0 705.614 0 678V0H2095V678Z" fill="#F9F9F9" />
                </svg>

            </div>
            <div className="w-full h-[311px] lg:h-[50px] absolute top-0 left-1/2 -translate-x-1/2 bg-[#f9f9f9] inset-0">
                <img className="absolute top-0 left-1/2 -translate-x-1/2" src="./images/star-home.png" alt="star-home" />
            </div>
            <motion.div
                initial={{ opacity: 0, x: 50 }}
                animate={{ opacity: 1, x: 0 }}
                style={{ y: y1 }}
                transition={{ duration: 0.7 }}
                className="absolute top-[320px] sm:top-[320px] lg:top-[320px] left-1/2 -translate-x-1/2 w-full z-49"
            >
                <p className="text-[#383637] px-8 font-montserrat-alter font-[700] text-[40px] sm:text-[44px] lg:text-[48px] leading-[100%] z-10 text-center w-full pb-2"
                > bởi vì mỗi tấm thiệp nói lên </p>
                <p className="text-[#FFBB53] px-8 font-montserrat-alter font-[700] text-[40px] sm:text-[44px] lg:text-[48px] leading-[100%] z-10 text-center w-full pb-4"
                > một câu chuyện riêng </p>
                <p className="text-[#898A85] px-10 font-montserrat-alter font-[400] text-[14px] sm:text-[16px] lg:text-[18px] leading-[100%] z-10 text-center w-full pb-8 "
                > Cùng chúng mình tạo và gửi những tấm thiệp cá nhân cho mọi dịp — ngay lập tức, đẹp mắt và đầy tình yêu. </p>
                <div className="w-full flex justify-center cursor-pointer">
                    <Button
                        variant="primary"
                        onClick={() => {
                            console.log(user, "123")
                            if (!user) {
                                setOpenLogin(true);
                            } else {
                                router.push('/list-template');
                            }
                        }}
                    >
                        <span className="font-[600] text-[16px] pr-2 ">Tạo tấm thiệp của riêng bạn</span>
                        <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.75 12.75L15.5 9L11.75 5.25" stroke="white" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                            <path d="M3.5 13.5V12C3.5 11.2044 3.81607 10.4413 4.37868 9.87868C4.94129 9.31607 5.70435 9 6.5 9H15.5" stroke="white" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                        </svg>
                    </Button>
                </div>
            </motion.div>
            <LoginModal isOpen={openLogin} onClose={() => setOpenLogin(false)} />
        </div>
    )
}